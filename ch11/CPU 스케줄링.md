
```
목차 
cpu 스케줄링 
	cpu 스케줄링 개요 
		- 프로세스 우선순위
		- 스케줄링 큐 
		- 선점형,비선점형방식
	cpu 스케줄링 알고리즘 
		- 스케줄링 알고리즘 종류 
```
## CPU 스케줄링 개요 

운영체제(커널)는 어떤 프로세스를 cpu에 할당할지 선택해야한다.
운영체제는 공정하고 합리적으로 cpu 자원을 배분하는데 이것을 `CPU 스케줄링`이라고 한다.

### 프로세스 우선순위
---
![[/image/chapter11/CPU스케줄링-1.jpeg]]
CPU 스케줄링는 프로세스의 우선순위가 높은 순으로 일어난다. 
우선순위는 운영체제가 매긴다.
우선순위는 프로세스의 종류에 따라 나뉜다. 
입출력장치를 주로 이용한다면 `입출력 집중 프로세스` cpu 작업이 많다면 `cpu집중 프로세스` 라고한다. 
보통 입출력 집중 프로세스가 우선순위가 높다.

### 스케줄링 큐 
---
![[image/chapter11/CPU스케줄링-2.jpeg]]
운영체제가 모든 프로세스의 우선순위를 확인할순 없다.
프로세스는 상태가 존재하는데 이 상태별로 정리되어 줄을 서는데 이 줄을 운영체제가 스케줄링 큐로 관리한다.
CPU를 이용을 위한  프로세스 줄을  `준비 큐`  입출력 장치를 이용을 위해 대기 상태인 프로세스 줄을 `대기 큐` 라고한다.
여느 줄에 들어가는 것과 똑같이 해당 큐에 들어갈때 마지막에 삽입 되나,  우선순위가 높으면 먼저 큐에서부터 실행된다.
대기 큐도 입출력이 완료된 이후 해당 프로세스를 대기큐에서 꺼내어 준비큐로 보낸다. 

### 선점형 비선점형 스케줄링 
---
운영체제는 프로세스가 CPU를 사용하도록 스케줄링한다. 
운영체제가 CPU 사용권(자원)을 강제로 뺏는 방식을 `선점형 스케줄링` 뺏지 못하는 방식을 `비선점형 스케줄링`라고한다.


## CPU 스케줄링 알고리즘 

운영체제별로 서로다른 스케줄링 알고리즘을 사용한다. 
모든 스케줄링 알고리즘을 알고자하는 것이 아닌 각자의 동작 방식을 익혀 스케줄링을 자세히 안다. 

### 스케줄링 알고리즘의 종류 
---
#### 선입 선처리 스케줄링 
비선점형 스케줄링 방식으로 큐에 삽입된 순서대로 프로세스를 처리하는 방식이다. 
가장 공정해보이지만 불필요하게 기다리는 시간이 길어질 수 있다.
사용 시간이 긴 프로세스 다음으로 사용 시간이 짧은 프로세스가 삽입된 상태에서 후자의 프로세스는 긴시간을 기다려야하는 이런 현상을 `호위 효과` 라고한다. 

#### 최단 작업 우선 스케줄링 
호위 효과를 방지하기 위한 스케줄링 방식이다.
비선점형 스케줄링 방식으로 사용시간이 짧은 프로세스를 먼저 실행하는 방식이다. 

#### 라운드 로빈 스케줄링 
선입 선처리 스케줄링에 `타임 슬라이스`  라는 개념이 더해진 스케줄링 방식이다. 
타임슬라이스는 cpu를 사용할 수 있는 정해진 시간을 의미한다. 
타임슬라이스만큼 시간이 지났는데 프로세스가 완료되지 않으면 큐에 맨뒤에 삽입되고 문맥교환이  일어난다. 

#### 최소 잔여 시간 우선 스케줄링 
최단 작업 우선 스케줄링과 라운드 로빈 스케줄링 방식이 더해진 스케줄링 방식이다.
라운드 로빈 스케줄링 방식과 동일하게 타임슬라이스 시간 만큼 cpu를 사용한 뒤 사용시간이 짧은 프로세스를 먼저 실행하는 방식이다. 
#### 우선 순위 스케줄링 
가장 높은 우선순위를 가진 프로세스 부터 실행하는 스케줄링 방식이다.
최단 작업 우선 , 최소 잔여시간 우선 스케줄링또한 우선 순위 스케줄링이라고 할 수 있다. 우선순위 초점이 어디로?
우선 순위가 높은 것만 계속 실행하여 낮은 것은 한번도 실행되지 못하는 `기아 `현상이 발생할 수 있다.
이를 극복하기 위해 오랫동안 대기하는 프로세스의 우선순위를 점차 높이는 방식인 `에이징`기법이 있다.
#### 다단계 큐 스케줄링 
우선순위별로 준비 큐를 여러개를 사용하는 스케줄링 방식이다.
준비 큐 내에 프로세스를 여러개 두어 처리하는 방식으로 상황에 맞게 사용에 용이하다.
큐별로 타임슬라이스를 여러 개 지정할 수 있고 큐마다 다른 스케줄링 알고리즘을 사용할 수 있다.
#### 다단계 피드백 큐 스케줄링

![[image/chapter11/CPU스케줄링-3.jpeg]]
다단계  큐 스케줄링에서 큐사이를 이동할 수 있는 기능이 추가된 스케줄링 방식이다.
가장 대중적으로 운영체제가 사용하는 방식이다. 
특정 큐에서 프로세스가 타임슬라이스를 모두 사용하면 다음 큐로 보내어 오랫동안 점유하지 못하도록한다.
특정 큐에서 오랫동안 cpu를 사용하지 못한 큐를 에이징을 통해 우선순위를 높여 큐를 이동시킨다. 
