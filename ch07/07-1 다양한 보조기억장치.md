생성일 | 2024.01.10
작성자 | 이지현
# 07-1 다양한 보조기억장치

### 요약
- 하드 디스크의 구성 요소에는 플래터, 스핀들, 헤드, 디스크 암이 있다.
- 플래터는 트랙과 섹터로 나뉘고, 여러 플래터의 동일한 트랙이 모여 실린더라고 한다.
- 하드 디스크의 데이터 접근 시간은 크게 탐색 시간, 회전 지연, 전송 시간으로 나뉜다.
- 플래시 메모리는 한 셀에 몇 비트를 저장할 수 있느냐에 따라 SLC, MLC, TLC로 나뉜다.
- 플래리 메모리의 읽기 쓰기는 페이지 단위로, 삭제는 블록 단위로 된다.


---
## 하드 디스크

- 자기적인 방식으로 데이터를 저장하는 보조기억장치 ~ 자기 디스크(magnetic disk)
- 플래터: 하드 디스크에서 실질적으로 데이터가 저장되는 곳
- 스핀들: 플래터를 회전시키는 구성 요소
- RPM: 스핀들이 플래터를 돌리는 속도를 분당 회전수로 나타낸 단위
- 헤드: 플래터를 대상으로 데이터를 읽고 쓰는 구성 요소
- 디스크 암: 헤드를 원하는 위치로 이동시키는 요소

> [!NOTE]
> CD나 LP에 비해 하드 디스크는 훨씬 더 많은 양의 데이터를 저장해야 하므로 일반적으로 여러 겹의 플래터로 이루어져 있고 플래터 양면을 모두 사용할 수 있다. 양면 플래터를 사용하면 위아래로 플래터당 두 개의 헤드가 사용된다. 이때 일반저그올 모든 헤드는 디스크 암에 부착되어 다같이 이동한다.

### 플래터에 어떻게 데이터를 저장하는지
- 트랙: 여러 동심원으로 나누었을 때 그중 하나의 원
- 섹터: 트랙이 나뉘는 조각
- 블록: 하나 이상의 섹터를 묶어 표현한 말
- 실린더: 여러 겹의 플래터 상에서 같은 트랙이 위치한 곳을 모아 연결한 논리적 단위
	- 연속된 정보는 하나의 실린더에 기록한다. 디스크 암을 움직이지 않고도 바로 데이터에 접근할 수 있기 때문이다.


- 탐색 시간: 접근하려는 데이터가 저장된 트랙까지 헤드를 이동시키는 시간
- 회전 지연: 헤드가 있는 곳으로 플래터를 회전시키는 시간
- 전송 시간: 하드 디스크의 컴퓨터 간에 데이터를 전송하는 시간

| 시간 | 측정 |
| ---- | ---- |
| L2 캐시 참조 시간 | 5ns |
| L1 캐시 참조 시간 | 0.5ns |
| 메모리 참조 시간 | 7ns |
| 메모리에서 1MB를 순차적으로 읽는 시간 | 250,000ns |
| 하드 디스크 탐색 시간 | 10,000,000ns |
| 하드 디스크에서 1MB를 순차적으로 읽는 시간 | 30,000,000ns |

> [!NOTE]
> 탐색 시간과 회전 지연을 단축시키기 위해서는 플래터를 빨리 돌려 RPM을 높이는 것도 중요하지만, 참조 지역성, 즉 접근하려는 데이터가 플래터 혹은 헤드를 조금만 옮겨도 접근할 수 있는 곳에 위치해 있는 것도 주요하다.

### 다중 헤드 디스크와 고정 헤드 디스크
- 단일 헤드 디스크: 플래터의 한 면당 헤드가 하나씩 달려 있는 하드 디스크
- 다중 헤드 디스크: 헤드가 트랙별로 여러 개 달려 있는 하드 디스크
- 고정 헤드 디스크: 헤드를 움직일 필요가 없는 다중 헤드 디스크
- 이동 헤드 디스크: 헤드를 데이터가 있는 곳까지 움직여야 하는 단일 헤드 디스크

[hard drive running, hard drive in slow motion](https://youtu.be/3owqvmMf6No?feature=shared&t=37)

![[platter.png]]

---

## 플래시 메모리

- USB 메모리, SD 카드, SSD 등 플래시 메모리 기반의 보조기억장치
- 전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반의 저장 장치
- ROM 등에도 사용하는 다양한 곳에서 널리 사용하는 저장 장치

### 플래시 메모리의 종류
- NAND 플래시 메모리: NAND 게이트를 기반으로 만들어진 메모리 <- 보조기억장치에서 설명하고 있는 플래시 메모리
- NOR 플래시 메모리: NOR 게이트를 기반으로 만들어진 메모리

### 플래시 메모리의 단위

- 셀( cell ): 플래시 메모리에서 데이터를 저장하는 가장 작은 단위
	- 페이지: 셀들이 모여 만들어진 단위 -> 블록 -> 플레인 -> 다이
- 읽기 / 쓰기 단위: 페이지
- 삭제 단위: 블록

#### 페이지의 상태

- Free 상태: 어떠한 데이터도 저장하고 있지 않아 새로운 데이터를 저장할 수 있는 상태
- Valid 상태: 이미 유효한 데이터를 저장하고 있는 상태
- Invalid 상태: 쓰레기값이라 부르는 유효하지 않은 데이터를 저장하고 있는 상태

> [!NOTE] 
> 플래시 메모리는 하드 디스크와는 달리 덮어쓰기가 불가능. Valid 상태인 페이지에는 새 데이터를 저장할 수 없다.

![[flashmemory.png]]

1. 데이터 C 저장
2. 데이터 A의 수정
3. 데이터 A의 삭제를 위해 block X 복사하여 block Y 생성 후 block X 삭제
### 플래시 메모리의 타입

- SLC: 한 셀에 1비트를 저장할 수 있는 플래시 메모리
	- 비트의 빠른 입출력이 가능
	- 수명도 상대적으로 길다.
	- 용량 대비 가격이 높다.
	- 기업에서 데이터를 읽고 쓰기가 매우 많이 반복되며 고성능의 빠른 저장 장치가 필요한 경우 사용
- MLC: 한 셀에 2비트를 저장할 수 있는 플래시 메모리
	- 용량 대비 가격이 저렴해짐
	- 시중에서 사용되는 많은 플래시 메모리의 저장 장치들
- TLC: 한 셀에 3비트를 저장할 수 있는 플래시 메모리
	- 대용량화가 유리하나, 수명과 속도가 떨어진다.
- 해당 차이는 플래시 메모리의 수명, 속도, 가격에 큰 영향을 미친다.

| 구분 | SLC | MLC | TLC |
| ---- | ---- | ---- | ---- |
| 셀당 bit | 1 bit | 2 bit | 3 bit |
| 수명 | 길다 | 보통 | 짧다 |
| 읽기/쓰기 속도 | 빠르다 | 보통 | 느리다 |
| 용량 대비 가격 | 높다 | 보통 | 낮다 |



----
### 퀴즈

디스커션 링크: https://github.com/OurStudyLog/operatingsystem/discussions/10

